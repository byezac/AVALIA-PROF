<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Avalia√ß√µes</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Chart.js -->
   <link rel="stylesheet" href="styles/styles.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <!-- Sidebar -->
        <div class="sidebar">
            <!-- Logo e t√≠tulo -->
            <div class="sidebar-header">
                <h4>
                    <i class="fas fa-chart-line"></i>
                    Avalia EETEPA
                </h4>
            </div>

            <!-- Links de navega√ß√£o -->
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link active" href="#visao-geral" data-section="visao-geral">
                        <i class="fas fa-home"></i>
                        <span>Vis√£o Geral</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#professores" data-section="professores">
                        <i class="fas fa-chalkboard-teacher"></i>
                        <span>Professores</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#gestao" data-section="gestao">
                        <i class="fas fa-users-cog"></i>
                        <span>Gest√£o</span>
                    </a>
                </li>

                <div class="nav-separator"></div>

                <li class="nav-item">
                    <a class="nav-link" href="#configuracoes" data-section="configuracoes">
                        <i class="fas fa-cog"></i>
                        <span>Configura√ß√µes</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#ajuda" data-section="ajuda">
                        <i class="fas fa-question-circle"></i>
                        <span>Ajuda</span>
                    </a>
                </li>
            </ul>

            <div class="sidebar-footer">
                <small>¬© 2024 EETEPA</small>
            </div>
        </div>

        <!-- Conte√∫do Principal -->
        <main>
            <!-- Se√ß√£o Vis√£o Geral -->
            <section id="visao-geral" class="section-content">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1>Dashboard</h1>
                </div>

                <!-- Filtros -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title mb-3">Filtros</h5>
                                <div class="row g-3">
                                    <!-- Filtro de Per√≠odo -->
                                    <div class="col-md-3">
                                        <label for="filtro-periodo" class="form-label">Per√≠odo</label>
                                        <select class="form-select" id="filtro-periodo">
                                            <option value="todos">Todos os per√≠odos</option>
                                            <option value="7">√öltimos 7 dias</option>
                                            <option value="30">√öltimo m√™s</option>
                                            <option value="90">√öltimo trimestre</option>
                                            <option value="365">√öltimo ano</option>
                                        </select>
                                    </div>

                                    <!-- Filtro de Turma -->
                                    <div class="col-md-3">
                                        <label for="filtro-turma" class="form-label">Turma</label>
                                        <select class="form-select" id="filtro-turma">
                                            <option value="todas">Todas as turmas</option>
                                            <!-- Turmas ser√£o adicionadas via JavaScript -->
                                        </select>
                                    </div>

                                    <!-- Filtro de Curso -->
                                    <div class="col-md-3">
                                        <label for="filtro-curso" class="form-label">Curso</label>
                                        <select class="form-select" id="filtro-curso">
                                            <option value="todos">Todos os cursos</option>
                                            <!-- Cursos ser√£o adicionados via JavaScript -->
                                        </select>
                                    </div>

                                    <!-- Busca de Professor -->
                                    <div class="col-md-3">
                                        <label for="busca-professor" class="form-label">Professor</label>
                                        <input type="text" class="form-control" id="busca-professor" 
                                               placeholder="Digite o nome do professor">
                                    </div>

                                    <!-- Bot√µes de A√ß√£o -->
                                    <div class="col-12">
                                        <button class="btn btn-primary" id="aplicar-filtros">
                                            Aplicar Filtros
                                        </button>
                                        <button class="btn btn-secondary" id="limpar-filtros">
                                            Limpar Filtros
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cards de Resumo -->
                <div class="row mb-4 g-3">
                    <div class="col-md-3">
                        <div class="card card-stats h-100">
                            <div class="card-body d-flex flex-column align-items-center">
                                <div class="icon-box mb-3">
                                    <i class="fas fa-chart-bar fa-2x text-primary"></i>
                                </div>
                                <h5 class="card-title text-center">Total de Avalia√ß√µes</h5>
                                <h2 class="card-text mb-0" id="total-avaliacoes">0</h2>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card card-stats h-100">
                            <div class="card-body d-flex flex-column align-items-center">
                                <div class="icon-box mb-3">
                                    <i class="fas fa-star fa-2x text-warning"></i>
                                </div>
                                <h5 class="card-title text-center">M√©dia Geral</h5>
                                <h2 class="card-text mb-2" id="media-geral">0.0</h2>
                                <div class="emoji-indicator" id="media-emoji">üòê</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card card-stats h-100">
                            <div class="card-body d-flex flex-column align-items-center">
                                <div class="icon-box mb-3">
                                    <i class="fas fa-user-graduate fa-2x text-success"></i>
                                </div>
                                <h5 class="card-title text-center">Professores Avaliados</h5>
                                <h2 class="card-text mb-0" id="total-professores">0</h2>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card card-stats h-100">
                            <div class="card-body d-flex flex-column align-items-center">
                                <div class="icon-box mb-3">
                                    <i class="fas fa-trophy fa-2x text-warning"></i>
                                </div>
                                <h5 class="card-title text-center">Melhor Professor</h5>
                                <h3 class="card-text mb-2" id="melhor-professor-nome">-</h3>
                                <div class="text-center">
                                    <span class="badge bg-warning" id="melhor-professor-nota">0.0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gr√°ficos -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Avalia√ß√£o por Professor</h5>
                                <canvas id="grafico-professores"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Avalia√ß√£o da Gest√£o</h5>
                                <canvas id="grafico-gestao"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ap√≥s os gr√°ficos existentes -->
                <div class="row mb-4">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-body">
                                <canvas id="grafico-evolucao"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <canvas id="grafico-distribuicao"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <canvas id="grafico-cursos"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tabela de √öltimas Avalia√ß√µes -->
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title">√öltimas Avalia√ß√µes</h5>
                        <div class="table-responsive">
                            <table class="table" id="tabela-avaliacoes">
                                <thead>
                                    <tr>
                                        <th>Data</th>
                                        <th>Professor</th>
                                        <th>Turma</th>
                                        <th>M√©dia</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Dados ser√£o inseridos via JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o Professores -->
            <section id="professores" class="section-content d-none">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1>Professores</h1>
                </div>

                <!-- Filtros espec√≠ficos para professores -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title mb-3">Filtros</h5>
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label for="filtro-professor" class="form-label">Professor</label>
                                        <select class="form-select" id="filtro-professor">
                                            <option value="todos">Todos os professores</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="filtro-disciplina" class="form-label">Disciplina</label>
                                        <select class="form-select" id="filtro-disciplina">
                                            <option value="todas">Todas as disciplinas</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="filtro-periodo-prof" class="form-label">Per√≠odo</label>
                                        <select class="form-select" id="filtro-periodo-prof">
                                            <option value="todos">Todos os per√≠odos</option>
                                            <option value="30">√öltimo m√™s</option>
                                            <option value="90">√öltimo trimestre</option>
                                            <option value="365">√öltimo ano</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gr√°ficos e estat√≠sticas dos professores -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Avalia√ß√£o Individual</h5>
                                <canvas id="grafico-professor-individual"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Comparativo por Disciplina</h5>
                                <canvas id="grafico-disciplinas"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tabela detalhada de professores -->
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Detalhamento por Professor</h5>
                        <div class="table-responsive">
                            <table class="table" id="tabela-professores">
                                <thead>
                                    <tr>
                                        <th>Professor</th>
                                        <th>Disciplina</th>
                                        <th>M√©dia Geral</th>
                                        <th>Total Avalia√ß√µes</th>
                                        <th>√öltima Avalia√ß√£o</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Dados ser√£o inseridos via JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div id="sem-dados-professores" class="alert alert-info d-none text-center">
                    Nenhuma avalia√ß√£o encontrada para professores
                </div>
            </section>

            <!-- Se√ß√£o Gest√£o -->
            <section id="gestao" class="section-content d-none">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1>Gest√£o</h1>
                </div>

                <!-- Cards de resumo da gest√£o -->
                <div class="row mb-4 g-3">
                    <div class="col-md-4">
                        <div class="card card-stats">
                            <div class="card-body">
                                <h5 class="card-title">Coordena√ß√£o</h5>
                                <h2 class="card-text" id="media-coordenacao">0.0</h2>
                                <div class="progress mt-2">
                                    <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card card-stats">
                            <div class="card-body">
                                <h5 class="card-title">Dire√ß√£o</h5>
                                <h2 class="card-text" id="media-direcao">0.0</h2>
                                <div class="progress mt-2">
                                    <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card card-stats">
                            <div class="card-body">
                                <h5 class="card-title">Vice-dire√ß√£o</h5>
                                <h2 class="card-text" id="media-vicedirecao">0.0</h2>
                                <div class="progress mt-2">
                                    <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gr√°ficos da gest√£o -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Evolu√ß√£o das Avalia√ß√µes</h5>
                                <canvas id="grafico-evolucao-gestao"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Aspectos Avaliados</h5>
                                <canvas id="grafico-aspectos-gestao"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="sem-dados-gestao" class="alert alert-info d-none text-center">
                    Nenhuma avalia√ß√£o encontrada para gest√£o
                </div>
            </section>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="scripts/firebase-config.js"></script>
    <script src="scripts/admin.js"></script>
</body>
</html> 